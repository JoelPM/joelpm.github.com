--- 
wordpress_id: 19
layout: post
title: "Dojo: \"Could not load ... last tried ...\""
wordpress_url: http://www.joelpm.com/?p=19
---
Here's another Dojo troubleshooting tip. Say you created a widget like so:
{% highlight javascript %}
dojo.declare("my.widgets.Zippy", [dijit._Widget, dijit._Templated], {
templatePath: "./Zippy.html",
widgetsInTemplate: true,
postCreate: function() {
    // ...
}
});
{% endhighlight %}
And saved it as /my/widgets/Zippy.js. Then somewhere else you did:
{% highlight javascript %}
dojo.require("my.widgets.Zippy");
{% endhighlight %}
If you're getting the error "Could not load 'my.widgets.Zippy' last tried './my/widgets/Zippy.js'" it can mean anything from "I couldn't find the file" to "I found the file but there was a problem with it." The first thing to do is use Firebug to see if the file was found. If it was, you may have a syntax error in your file. If you've gone through and painstakingly validated that your syntax is indeed correct, then you may have forgotten to put a dojo.provides at the top of your class file, like I did...

Putting the following at the top of Zippy.js fixed the problem for me:
{% highlight javascript %}
dojo.provide("my.widgets.Zippy");
{% endhighlight %}
Unfortunately the Dojo error messages are not very verbose and adding debugAtAllCosts doesn't do anything to make the error any more clear.
